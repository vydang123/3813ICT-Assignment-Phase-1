function cov_1jqoso4jd4(){var path="/Users/vydang/Desktop/3813ICT-Assignment-Phase-1/Assignment-1/server/routes/addGroup.js";var hash="696b95c3518470b3b5f2640ebc792271fd36ad02";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/vydang/Desktop/3813ICT-Assignment-Phase-1/Assignment-1/server/routes/addGroup.js",statementMap:{"0":{start:{line:1,column:0},end:{line:28,column:2}},"1":{start:{line:2,column:2},end:{line:27,column:5}},"2":{start:{line:3,column:4},end:{line:26,column:5}},"3":{start:{line:5,column:6},end:{line:5,column:29}},"4":{start:{line:7,column:6},end:{line:9,column:7}},"5":{start:{line:8,column:8},end:{line:8,column:35}},"6":{start:{line:11,column:30},end:{line:11,column:60}},"7":{start:{line:14,column:28},end:{line:14,column:69}},"8":{start:{line:16,column:6},end:{line:18,column:7}},"9":{start:{line:17,column:8},end:{line:17,column:90}},"10":{start:{line:20,column:6},end:{line:20,column:72}},"11":{start:{line:22,column:6},end:{line:22,column:47}},"12":{start:{line:23,column:6},end:{line:23,column:80}},"13":{start:{line:25,column:6},end:{line:25,column:21}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:1,column:17},end:{line:1,column:18}},loc:{start:{line:1,column:38},end:{line:28,column:1}},line:1},"1":{name:"(anonymous_1)",decl:{start:{line:2,column:24},end:{line:2,column:25}},loc:{start:{line:2,column:44},end:{line:27,column:3}},line:2}},branchMap:{"0":{loc:{start:{line:7,column:6},end:{line:9,column:7}},type:"if",locations:[{start:{line:7,column:6},end:{line:9,column:7}},{start:{line:7,column:6},end:{line:9,column:7}}],line:7},"1":{loc:{start:{line:16,column:6},end:{line:18,column:7}},type:"if",locations:[{start:{line:16,column:6},end:{line:18,column:7}},{start:{line:16,column:6},end:{line:18,column:7}}],line:16}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"696b95c3518470b3b5f2640ebc792271fd36ad02"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1jqoso4jd4=function(){return actualCoverage;};}return actualCoverage;}cov_1jqoso4jd4();cov_1jqoso4jd4().s[0]++;module.exports=(db,app,client)=>{cov_1jqoso4jd4().f[0]++;cov_1jqoso4jd4().s[1]++;app.post('/addGroup',async(req,res)=>{cov_1jqoso4jd4().f[1]++;cov_1jqoso4jd4().s[2]++;try{cov_1jqoso4jd4().s[3]++;// Connect to MongoDB
await client.connect();cov_1jqoso4jd4().s[4]++;if(!req.body){cov_1jqoso4jd4().b[0][0]++;cov_1jqoso4jd4().s[5]++;return res.sendStatus(400);}else{cov_1jqoso4jd4().b[0][1]++;}const groupCollection=(cov_1jqoso4jd4().s[6]++,db.collection('group-channel'));// Replace 'group-channel' with your actual collection name
//insert a new group to the collection
const insertedGroup=(cov_1jqoso4jd4().s[7]++,await groupCollection.insertOne(req.body));cov_1jqoso4jd4().s[8]++;if(!insertedGroup.insertedId){cov_1jqoso4jd4().b[1][0]++;cov_1jqoso4jd4().s[9]++;return res.status(500).send({success:false,message:'Error creating group.'});}else{cov_1jqoso4jd4().b[1][1]++;}cov_1jqoso4jd4().s[10]++;res.send({success:true,message:'Group added successfully.'});}catch(err){cov_1jqoso4jd4().s[11]++;console.error('Error in addGroup:',err);cov_1jqoso4jd4().s[12]++;return res.status(500).send({success:false,message:'Server error.'});}finally{cov_1jqoso4jd4().s[13]++;client.close();}});};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWpxb3NvNGpkNCIsImFjdHVhbENvdmVyYWdlIiwicyIsIm1vZHVsZSIsImV4cG9ydHMiLCJkYiIsImFwcCIsImNsaWVudCIsImYiLCJwb3N0IiwicmVxIiwicmVzIiwiY29ubmVjdCIsImJvZHkiLCJiIiwic2VuZFN0YXR1cyIsImdyb3VwQ29sbGVjdGlvbiIsImNvbGxlY3Rpb24iLCJpbnNlcnRlZEdyb3VwIiwiaW5zZXJ0T25lIiwiaW5zZXJ0ZWRJZCIsInN0YXR1cyIsInNlbmQiLCJzdWNjZXNzIiwibWVzc2FnZSIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImNsb3NlIl0sInNvdXJjZXMiOlsiYWRkR3JvdXAuanMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAoZGIsIGFwcCwgY2xpZW50KSA9PiB7XG4gIGFwcC5wb3N0KCcvYWRkR3JvdXAnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gQ29ubmVjdCB0byBNb25nb0RCXG4gICAgICBhd2FpdCBjbGllbnQuY29ubmVjdCgpO1xuXG4gICAgICBpZiAoIXJlcS5ib2R5KSB7XG4gICAgICAgIHJldHVybiByZXMuc2VuZFN0YXR1cyg0MDApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBncm91cENvbGxlY3Rpb24gPSBkYi5jb2xsZWN0aW9uKCdncm91cC1jaGFubmVsJyk7IC8vIFJlcGxhY2UgJ2dyb3VwLWNoYW5uZWwnIHdpdGggeW91ciBhY3R1YWwgY29sbGVjdGlvbiBuYW1lXG5cbiAgICAgIC8vaW5zZXJ0IGEgbmV3IGdyb3VwIHRvIHRoZSBjb2xsZWN0aW9uXG4gICAgICBjb25zdCBpbnNlcnRlZEdyb3VwID0gYXdhaXQgZ3JvdXBDb2xsZWN0aW9uLmluc2VydE9uZShyZXEuYm9keSk7XG5cbiAgICAgIGlmICghaW5zZXJ0ZWRHcm91cC5pbnNlcnRlZElkKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnRXJyb3IgY3JlYXRpbmcgZ3JvdXAuJyB9KTtcbiAgICAgIH1cblxuICAgICAgcmVzLnNlbmQoeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnR3JvdXAgYWRkZWQgc3VjY2Vzc2Z1bGx5LicgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBhZGRHcm91cDonLCBlcnIpO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdTZXJ2ZXIgZXJyb3IuJyB9KTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgY2xpZW50LmNsb3NlKCk7XG4gICAgfVxuICB9KTtcbn07XG4iXSwibWFwcGluZ3MiOiI2cEVBZVk7QUFBQUEsY0FBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxjQUFBLEdBQUFBLGNBQUEsR0FBQUUsQ0FBQSxNQWZaQyxNQUFNLENBQUNDLE9BQU8sQ0FBRyxDQUFDQyxFQUFFLENBQUVDLEdBQUcsQ0FBRUMsTUFBTSxHQUFLLENBQUFQLGNBQUEsR0FBQVEsQ0FBQSxNQUFBUixjQUFBLEdBQUFFLENBQUEsTUFDcENJLEdBQUcsQ0FBQ0csSUFBSSxDQUFDLFdBQVcsQ0FBRSxNQUFPQyxHQUFHLENBQUVDLEdBQUcsR0FBSyxDQUFBWCxjQUFBLEdBQUFRLENBQUEsTUFBQVIsY0FBQSxHQUFBRSxDQUFBLE1BQ3hDLEdBQUksQ0FBQUYsY0FBQSxHQUFBRSxDQUFBLE1BQ0Y7QUFDQSxLQUFNLENBQUFLLE1BQU0sQ0FBQ0ssT0FBTyxDQUFDLENBQUMsQ0FBQ1osY0FBQSxHQUFBRSxDQUFBLE1BRXZCLEdBQUksQ0FBQ1EsR0FBRyxDQUFDRyxJQUFJLENBQUUsQ0FBQWIsY0FBQSxHQUFBYyxDQUFBLFNBQUFkLGNBQUEsR0FBQUUsQ0FBQSxNQUNiLE1BQU8sQ0FBQVMsR0FBRyxDQUFDSSxVQUFVLENBQUMsR0FBRyxDQUFDLENBQzVCLENBQUMsS0FBQWYsY0FBQSxHQUFBYyxDQUFBLFVBRUQsS0FBTSxDQUFBRSxlQUFlLEVBQUFoQixjQUFBLEdBQUFFLENBQUEsTUFBR0csRUFBRSxDQUFDWSxVQUFVLENBQUMsZUFBZSxDQUFDLEVBQUU7QUFFeEQ7QUFDQSxLQUFNLENBQUFDLGFBQWEsRUFBQWxCLGNBQUEsR0FBQUUsQ0FBQSxNQUFHLEtBQU0sQ0FBQWMsZUFBZSxDQUFDRyxTQUFTLENBQUNULEdBQUcsQ0FBQ0csSUFBSSxDQUFDLEVBQUNiLGNBQUEsR0FBQUUsQ0FBQSxNQUVoRSxHQUFJLENBQUNnQixhQUFhLENBQUNFLFVBQVUsQ0FBRSxDQUFBcEIsY0FBQSxHQUFBYyxDQUFBLFNBQUFkLGNBQUEsR0FBQUUsQ0FBQSxNQUM3QixNQUFPLENBQUFTLEdBQUcsQ0FBQ1UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUMsQ0FBRUMsT0FBTyxDQUFFLEtBQUssQ0FBRUMsT0FBTyxDQUFFLHVCQUF3QixDQUFDLENBQUMsQ0FDbkYsQ0FBQyxLQUFBeEIsY0FBQSxHQUFBYyxDQUFBLFVBQUFkLGNBQUEsR0FBQUUsQ0FBQSxPQUVEUyxHQUFHLENBQUNXLElBQUksQ0FBQyxDQUFFQyxPQUFPLENBQUUsSUFBSSxDQUFFQyxPQUFPLENBQUUsMkJBQTRCLENBQUMsQ0FBQyxDQUNuRSxDQUFFLE1BQU9DLEdBQUcsQ0FBRSxDQUFBekIsY0FBQSxHQUFBRSxDQUFBLE9BQ1p3QixPQUFPLENBQUNDLEtBQUssQ0FBQyxvQkFBb0IsQ0FBRUYsR0FBRyxDQUFDLENBQUN6QixjQUFBLEdBQUFFLENBQUEsT0FDekMsTUFBTyxDQUFBUyxHQUFHLENBQUNVLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUVDLE9BQU8sQ0FBRSxLQUFLLENBQUVDLE9BQU8sQ0FBRSxlQUFnQixDQUFDLENBQUMsQ0FDM0UsQ0FBQyxPQUFTLENBQUF4QixjQUFBLEdBQUFFLENBQUEsT0FDUkssTUFBTSxDQUFDcUIsS0FBSyxDQUFDLENBQUMsQ0FDaEIsQ0FDRixDQUFDLENBQUMsQ0FDSixDQUFDIn0=