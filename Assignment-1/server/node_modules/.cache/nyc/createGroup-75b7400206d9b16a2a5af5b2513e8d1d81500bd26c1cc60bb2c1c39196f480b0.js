function cov_5cxmy8xmu(){var path="/Users/vydang/Desktop/3813ICT-Assignment-Phase-1/Assignment-1/server/routes/createGroup.js";var hash="a12110185b35119cc83eaf4adbb865f1d15bd3c8";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/vydang/Desktop/3813ICT-Assignment-Phase-1/Assignment-1/server/routes/createGroup.js",statementMap:{"0":{start:{line:1,column:0},end:{line:31,column:2}},"1":{start:{line:2,column:2},end:{line:30,column:5}},"2":{start:{line:3,column:4},end:{line:29,column:5}},"3":{start:{line:5,column:6},end:{line:5,column:29}},"4":{start:{line:7,column:23},end:{line:7,column:31}},"5":{start:{line:10,column:30},end:{line:10,column:60}},"6":{start:{line:13,column:26},end:{line:13,column:64}},"7":{start:{line:14,column:6},end:{line:14,column:41}},"8":{start:{line:17,column:28},end:{line:17,column:69}},"9":{start:{line:19,column:6},end:{line:21,column:7}},"10":{start:{line:20,column:8},end:{line:20,column:90}},"11":{start:{line:23,column:6},end:{line:23,column:74}},"12":{start:{line:25,column:6},end:{line:25,column:50}},"13":{start:{line:26,column:6},end:{line:26,column:80}},"14":{start:{line:28,column:6},end:{line:28,column:21}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:1,column:17},end:{line:1,column:18}},loc:{start:{line:1,column:38},end:{line:31,column:1}},line:1},"1":{name:"(anonymous_1)",decl:{start:{line:2,column:27},end:{line:2,column:28}},loc:{start:{line:2,column:47},end:{line:30,column:3}},line:2}},branchMap:{"0":{loc:{start:{line:19,column:6},end:{line:21,column:7}},type:"if",locations:[{start:{line:19,column:6},end:{line:21,column:7}},{start:{line:19,column:6},end:{line:21,column:7}}],line:19}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},f:{"0":0,"1":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a12110185b35119cc83eaf4adbb865f1d15bd3c8"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_5cxmy8xmu=function(){return actualCoverage;};}return actualCoverage;}cov_5cxmy8xmu();cov_5cxmy8xmu().s[0]++;module.exports=(db,app,client)=>{cov_5cxmy8xmu().f[0]++;cov_5cxmy8xmu().s[1]++;app.post('/createGroup',async(req,res)=>{cov_5cxmy8xmu().f[1]++;cov_5cxmy8xmu().s[2]++;try{cov_5cxmy8xmu().s[3]++;// Connect to MongoDB
await client.connect();const newGroup=(cov_5cxmy8xmu().s[4]++,req.body);const groupCollection=(cov_5cxmy8xmu().s[5]++,db.collection('group-channel'));// Replace 'group-channel' with your actual collection name
// Find the count of documents in the collection to determine the new group's ID
const groupsCount=(cov_5cxmy8xmu().s[6]++,await groupCollection.countDocuments());cov_5cxmy8xmu().s[7]++;newGroup.groupid=groupsCount+1;// Insert the new group into the collection
const insertedGroup=(cov_5cxmy8xmu().s[8]++,await groupCollection.insertOne(newGroup));cov_5cxmy8xmu().s[9]++;if(!insertedGroup.insertedId){cov_5cxmy8xmu().b[0][0]++;cov_5cxmy8xmu().s[10]++;return res.status(500).send({success:false,message:'Error creating group.'});}else{cov_5cxmy8xmu().b[0][1]++;}cov_5cxmy8xmu().s[11]++;res.send({success:true,message:'Group created successfully.'});}catch(err){cov_5cxmy8xmu().s[12]++;console.error('Error in createGroup:',err);cov_5cxmy8xmu().s[13]++;return res.status(500).send({success:false,message:'Server error.'});}finally{cov_5cxmy8xmu().s[14]++;client.close();}});};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfNWN4bXk4eG11IiwiYWN0dWFsQ292ZXJhZ2UiLCJzIiwibW9kdWxlIiwiZXhwb3J0cyIsImRiIiwiYXBwIiwiY2xpZW50IiwiZiIsInBvc3QiLCJyZXEiLCJyZXMiLCJjb25uZWN0IiwibmV3R3JvdXAiLCJib2R5IiwiZ3JvdXBDb2xsZWN0aW9uIiwiY29sbGVjdGlvbiIsImdyb3Vwc0NvdW50IiwiY291bnREb2N1bWVudHMiLCJncm91cGlkIiwiaW5zZXJ0ZWRHcm91cCIsImluc2VydE9uZSIsImluc2VydGVkSWQiLCJiIiwic3RhdHVzIiwic2VuZCIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiY2xvc2UiXSwic291cmNlcyI6WyJjcmVhdGVHcm91cC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IChkYiwgYXBwLCBjbGllbnQpID0+IHtcbiAgYXBwLnBvc3QoJy9jcmVhdGVHcm91cCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBDb25uZWN0IHRvIE1vbmdvREJcbiAgICAgIGF3YWl0IGNsaWVudC5jb25uZWN0KCk7XG5cbiAgICAgIGNvbnN0IG5ld0dyb3VwID0gcmVxLmJvZHk7XG5cbiAgICAgIFxuICAgICAgY29uc3QgZ3JvdXBDb2xsZWN0aW9uID0gZGIuY29sbGVjdGlvbignZ3JvdXAtY2hhbm5lbCcpOyAvLyBSZXBsYWNlICdncm91cC1jaGFubmVsJyB3aXRoIHlvdXIgYWN0dWFsIGNvbGxlY3Rpb24gbmFtZVxuXG4gICAgICAvLyBGaW5kIHRoZSBjb3VudCBvZiBkb2N1bWVudHMgaW4gdGhlIGNvbGxlY3Rpb24gdG8gZGV0ZXJtaW5lIHRoZSBuZXcgZ3JvdXAncyBJRFxuICAgICAgY29uc3QgZ3JvdXBzQ291bnQgPSBhd2FpdCBncm91cENvbGxlY3Rpb24uY291bnREb2N1bWVudHMoKTtcbiAgICAgIG5ld0dyb3VwLmdyb3VwaWQgPSBncm91cHNDb3VudCArIDE7XG5cbiAgICAgIC8vIEluc2VydCB0aGUgbmV3IGdyb3VwIGludG8gdGhlIGNvbGxlY3Rpb25cbiAgICAgIGNvbnN0IGluc2VydGVkR3JvdXAgPSBhd2FpdCBncm91cENvbGxlY3Rpb24uaW5zZXJ0T25lKG5ld0dyb3VwKTtcblxuICAgICAgaWYgKCFpbnNlcnRlZEdyb3VwLmluc2VydGVkSWQpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdFcnJvciBjcmVhdGluZyBncm91cC4nIH0pO1xuICAgICAgfVxuXG4gICAgICByZXMuc2VuZCh7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6ICdHcm91cCBjcmVhdGVkIHN1Y2Nlc3NmdWxseS4nIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gY3JlYXRlR3JvdXA6JywgZXJyKTtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnU2VydmVyIGVycm9yLicgfSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGNsaWVudC5jbG9zZSgpO1xuICAgIH1cbiAgfSk7XG59O1xuIl0sIm1hcHBpbmdzIjoicWlFQWVZO0FBQUFBLGFBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsYUFBQSxHQUFBQSxhQUFBLEdBQUFFLENBQUEsTUFmWkMsTUFBTSxDQUFDQyxPQUFPLENBQUcsQ0FBQ0MsRUFBRSxDQUFFQyxHQUFHLENBQUVDLE1BQU0sR0FBSyxDQUFBUCxhQUFBLEdBQUFRLENBQUEsTUFBQVIsYUFBQSxHQUFBRSxDQUFBLE1BQ3BDSSxHQUFHLENBQUNHLElBQUksQ0FBQyxjQUFjLENBQUUsTUFBT0MsR0FBRyxDQUFFQyxHQUFHLEdBQUssQ0FBQVgsYUFBQSxHQUFBUSxDQUFBLE1BQUFSLGFBQUEsR0FBQUUsQ0FBQSxNQUMzQyxHQUFJLENBQUFGLGFBQUEsR0FBQUUsQ0FBQSxNQUNGO0FBQ0EsS0FBTSxDQUFBSyxNQUFNLENBQUNLLE9BQU8sQ0FBQyxDQUFDLENBRXRCLEtBQU0sQ0FBQUMsUUFBUSxFQUFBYixhQUFBLEdBQUFFLENBQUEsTUFBR1EsR0FBRyxDQUFDSSxJQUFJLEVBR3pCLEtBQU0sQ0FBQUMsZUFBZSxFQUFBZixhQUFBLEdBQUFFLENBQUEsTUFBR0csRUFBRSxDQUFDVyxVQUFVLENBQUMsZUFBZSxDQUFDLEVBQUU7QUFFeEQ7QUFDQSxLQUFNLENBQUFDLFdBQVcsRUFBQWpCLGFBQUEsR0FBQUUsQ0FBQSxNQUFHLEtBQU0sQ0FBQWEsZUFBZSxDQUFDRyxjQUFjLENBQUMsQ0FBQyxFQUFDbEIsYUFBQSxHQUFBRSxDQUFBLE1BQzNEVyxRQUFRLENBQUNNLE9BQU8sQ0FBR0YsV0FBVyxDQUFHLENBQUMsQ0FFbEM7QUFDQSxLQUFNLENBQUFHLGFBQWEsRUFBQXBCLGFBQUEsR0FBQUUsQ0FBQSxNQUFHLEtBQU0sQ0FBQWEsZUFBZSxDQUFDTSxTQUFTLENBQUNSLFFBQVEsQ0FBQyxFQUFDYixhQUFBLEdBQUFFLENBQUEsTUFFaEUsR0FBSSxDQUFDa0IsYUFBYSxDQUFDRSxVQUFVLENBQUUsQ0FBQXRCLGFBQUEsR0FBQXVCLENBQUEsU0FBQXZCLGFBQUEsR0FBQUUsQ0FBQSxPQUM3QixNQUFPLENBQUFTLEdBQUcsQ0FBQ2EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUMsQ0FBRUMsT0FBTyxDQUFFLEtBQUssQ0FBRUMsT0FBTyxDQUFFLHVCQUF3QixDQUFDLENBQUMsQ0FDbkYsQ0FBQyxLQUFBM0IsYUFBQSxHQUFBdUIsQ0FBQSxVQUFBdkIsYUFBQSxHQUFBRSxDQUFBLE9BRURTLEdBQUcsQ0FBQ2MsSUFBSSxDQUFDLENBQUVDLE9BQU8sQ0FBRSxJQUFJLENBQUVDLE9BQU8sQ0FBRSw2QkFBOEIsQ0FBQyxDQUFDLENBQ3JFLENBQUUsTUFBT0MsR0FBRyxDQUFFLENBQUE1QixhQUFBLEdBQUFFLENBQUEsT0FDWjJCLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLHVCQUF1QixDQUFFRixHQUFHLENBQUMsQ0FBQzVCLGFBQUEsR0FBQUUsQ0FBQSxPQUM1QyxNQUFPLENBQUFTLEdBQUcsQ0FBQ2EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUMsQ0FBRUMsT0FBTyxDQUFFLEtBQUssQ0FBRUMsT0FBTyxDQUFFLGVBQWdCLENBQUMsQ0FBQyxDQUMzRSxDQUFDLE9BQVMsQ0FBQTNCLGFBQUEsR0FBQUUsQ0FBQSxPQUNSSyxNQUFNLENBQUN3QixLQUFLLENBQUMsQ0FBQyxDQUNoQixDQUNGLENBQUMsQ0FBQyxDQUNKLENBQUMifQ==