function cov_2bccobx38p(){var path="/Users/vydang/Desktop/3813ICT-Assignment-Phase-1/Assignment-1/server/routes/getGroups.js";var hash="ca9271e98664a359a7c2c3786f1e7ee16a66a172";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/vydang/Desktop/3813ICT-Assignment-Phase-1/Assignment-1/server/routes/getGroups.js",statementMap:{"0":{start:{line:1,column:0},end:{line:21,column:2}},"1":{start:{line:2,column:2},end:{line:20,column:5}},"2":{start:{line:3,column:4},end:{line:19,column:5}},"3":{start:{line:5,column:6},end:{line:5,column:29}},"4":{start:{line:7,column:30},end:{line:7,column:60}},"5":{start:{line:10,column:21},end:{line:10,column:61}},"6":{start:{line:13,column:6},end:{line:13,column:23}},"7":{start:{line:15,column:6},end:{line:15,column:48}},"8":{start:{line:16,column:6},end:{line:16,column:64}},"9":{start:{line:18,column:6},end:{line:18,column:21}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:1,column:17},end:{line:1,column:18}},loc:{start:{line:1,column:38},end:{line:21,column:1}},line:1},"1":{name:"(anonymous_1)",decl:{start:{line:2,column:24},end:{line:2,column:25}},loc:{start:{line:2,column:44},end:{line:20,column:3}},line:2}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},f:{"0":0,"1":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ca9271e98664a359a7c2c3786f1e7ee16a66a172"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2bccobx38p=function(){return actualCoverage;};}return actualCoverage;}cov_2bccobx38p();cov_2bccobx38p().s[0]++;module.exports=(db,app,client)=>{cov_2bccobx38p().f[0]++;cov_2bccobx38p().s[1]++;app.get('/getGroups',async(req,res)=>{cov_2bccobx38p().f[1]++;cov_2bccobx38p().s[2]++;try{cov_2bccobx38p().s[3]++;// Connect to the MongoDB client
await client.connect();const groupCollection=(cov_2bccobx38p().s[4]++,db.collection('group-channel'));// connect to collection 'group-channel'
// Retrieve all groups from the 'group-channel' collection
const groups=(cov_2bccobx38p().s[5]++,await groupCollection.find({}).toArray());//send all data to the response page
cov_2bccobx38p().s[6]++;res.send(groups);}catch(err){cov_2bccobx38p().s[7]++;console.error('Error in getGroups:',err);cov_2bccobx38p().s[8]++;return res.status(500).send({message:"Server error."});}finally{cov_2bccobx38p().s[9]++;client.close();}});};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmJjY29ieDM4cCIsImFjdHVhbENvdmVyYWdlIiwicyIsIm1vZHVsZSIsImV4cG9ydHMiLCJkYiIsImFwcCIsImNsaWVudCIsImYiLCJnZXQiLCJyZXEiLCJyZXMiLCJjb25uZWN0IiwiZ3JvdXBDb2xsZWN0aW9uIiwiY29sbGVjdGlvbiIsImdyb3VwcyIsImZpbmQiLCJ0b0FycmF5Iiwic2VuZCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsInN0YXR1cyIsIm1lc3NhZ2UiLCJjbG9zZSJdLCJzb3VyY2VzIjpbImdldEdyb3Vwcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IChkYiwgYXBwLCBjbGllbnQpID0+IHtcbiAgYXBwLmdldCgnL2dldEdyb3VwcycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBDb25uZWN0IHRvIHRoZSBNb25nb0RCIGNsaWVudFxuICAgICAgYXdhaXQgY2xpZW50LmNvbm5lY3QoKTtcblxuICAgICAgY29uc3QgZ3JvdXBDb2xsZWN0aW9uID0gZGIuY29sbGVjdGlvbignZ3JvdXAtY2hhbm5lbCcpOyAvLyBjb25uZWN0IHRvIGNvbGxlY3Rpb24gJ2dyb3VwLWNoYW5uZWwnXG5cbiAgICAgIC8vIFJldHJpZXZlIGFsbCBncm91cHMgZnJvbSB0aGUgJ2dyb3VwLWNoYW5uZWwnIGNvbGxlY3Rpb25cbiAgICAgIGNvbnN0IGdyb3VwcyA9IGF3YWl0IGdyb3VwQ29sbGVjdGlvbi5maW5kKHt9KS50b0FycmF5KCk7XG5cbiAgICAgIC8vc2VuZCBhbGwgZGF0YSB0byB0aGUgcmVzcG9uc2UgcGFnZVxuICAgICAgcmVzLnNlbmQoZ3JvdXBzKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGdldEdyb3VwczonLCBlcnIpO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJTZXJ2ZXIgZXJyb3IuXCIgfSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGNsaWVudC5jbG9zZSgpO1xuICAgIH1cbiAgfSk7XG59O1xuIl0sIm1hcHBpbmdzIjoiZ2lEQWVZO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQUFBQSxjQUFBLEdBQUFFLENBQUEsTUFmWkMsTUFBTSxDQUFDQyxPQUFPLENBQUcsQ0FBQ0MsRUFBRSxDQUFFQyxHQUFHLENBQUVDLE1BQU0sR0FBSyxDQUFBUCxjQUFBLEdBQUFRLENBQUEsTUFBQVIsY0FBQSxHQUFBRSxDQUFBLE1BQ3BDSSxHQUFHLENBQUNHLEdBQUcsQ0FBQyxZQUFZLENBQUUsTUFBT0MsR0FBRyxDQUFFQyxHQUFHLEdBQUssQ0FBQVgsY0FBQSxHQUFBUSxDQUFBLE1BQUFSLGNBQUEsR0FBQUUsQ0FBQSxNQUN4QyxHQUFJLENBQUFGLGNBQUEsR0FBQUUsQ0FBQSxNQUNGO0FBQ0EsS0FBTSxDQUFBSyxNQUFNLENBQUNLLE9BQU8sQ0FBQyxDQUFDLENBRXRCLEtBQU0sQ0FBQUMsZUFBZSxFQUFBYixjQUFBLEdBQUFFLENBQUEsTUFBR0csRUFBRSxDQUFDUyxVQUFVLENBQUMsZUFBZSxDQUFDLEVBQUU7QUFFeEQ7QUFDQSxLQUFNLENBQUFDLE1BQU0sRUFBQWYsY0FBQSxHQUFBRSxDQUFBLE1BQUcsS0FBTSxDQUFBVyxlQUFlLENBQUNHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDQyxPQUFPLENBQUMsQ0FBQyxFQUV2RDtBQUFBakIsY0FBQSxHQUFBRSxDQUFBLE1BQ0FTLEdBQUcsQ0FBQ08sSUFBSSxDQUFDSCxNQUFNLENBQUMsQ0FDbEIsQ0FBRSxNQUFPSSxHQUFHLENBQUUsQ0FBQW5CLGNBQUEsR0FBQUUsQ0FBQSxNQUNaa0IsT0FBTyxDQUFDQyxLQUFLLENBQUMscUJBQXFCLENBQUVGLEdBQUcsQ0FBQyxDQUFDbkIsY0FBQSxHQUFBRSxDQUFBLE1BQzFDLE1BQU8sQ0FBQVMsR0FBRyxDQUFDVyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNKLElBQUksQ0FBQyxDQUFFSyxPQUFPLENBQUUsZUFBZ0IsQ0FBQyxDQUFDLENBQzNELENBQUMsT0FBUyxDQUFBdkIsY0FBQSxHQUFBRSxDQUFBLE1BQ1JLLE1BQU0sQ0FBQ2lCLEtBQUssQ0FBQyxDQUFDLENBQ2hCLENBQ0YsQ0FBQyxDQUFDLENBQ0osQ0FBQyJ9